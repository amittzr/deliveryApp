<!-- <!DOCTYPE html>
<html>
<head>
    <title>Company List</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/list.css">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
   
    <script>
        $(document).ready(function() {
            // Check if the CSS file is loaded
            const styleSheets = document.styleSheets;
            let cssLoaded = false;
            
            for (let i = 0; i < styleSheets.length; i++) {
                if (styleSheets[i].href && styleSheets[i].href.includes('list.css')) {
                    cssLoaded = true;
                    console.log('list.css is loaded successfully');
                    break;
                }
            }
            
            if (!cssLoaded) {
                console.error('Warning: list.css could not be loaded!');
                // Display an error message to the user
                $('body').prepend('<div style="background-color: #f8d7da; color: #721c24; padding: 10px; margin-bottom: 20px; text-align: center;">CSS file could not be loaded. Please check your server configuration.</div>');
            }
            
            // Print the computed background color of the body
            const bodyBgColor = window.getComputedStyle(document.body).backgroundColor;
            console.log('Body background color:', bodyBgColor);
            
            // Add inline background color if missing
            if (bodyBgColor === 'rgba(0, 0, 0, 0)' || bodyBgColor === 'transparent') {
                console.log('Applying fallback background color');
                document.body.style.backgroundColor = '#f0f8ff';
            }
        });
    </script>
</head>
<body>
    <div class="container">
        <h1>Delivery Management System</h1>
        
        <div class="company-grid">
            <div class="company-card">
                <div class="company-header">Company 1</div>
                <div class="company-body">
                    <p class="company-info">Manage packages for Company 1</p>
                    <a href="/list/1" class="btn-view">View Packages</a>
                </div>
            </div>
            
            <div class="company-card">
                <div class="company-header">Company 2</div>
                <div class="company-body">
                    <p class="company-info">Manage packages for Company 2</p>
                    <a href="/list/2" class="btn-view">View Packages</a>
                </div>
            </div>
            
            <div class="company-card">
                <div class="company-header">Company 3</div>
                <div class="company-body">
                    <p class="company-info">Manage packages for Company 3</p>
                    <a href="/list/3" class="btn-view">View Packages</a>
                </div>
            </div>
            
            <div class="company-card">
                <div class="company-header">Company 4</div>
                <div class="company-body">
                    <p class="company-info">Manage packages for Company 4</p>
                    <a href="/list/4" class="btn-view">View Packages</a>
                </div>
            </div>
            
            <div class="company-card">
                <div class="company-header">Company 5</div>
                <div class="company-body">
                    <p class="company-info">Manage packages for Company 5</p>
                    <a href="/list/5" class="btn-view">View Packages</a>
                </div>
            </div>
            
            <div class="company-card">
                <div class="company-header">Company 6</div>
                <div class="company-body">
                    <p class="company-info">Manage packages for Company 6</p>
                    <a href="/list/6" class="btn-view">View Packages</a>
                </div>
            </div>
            
            <div class="company-card">
                <div class="company-header">Company 7</div>
                <div class="company-body">
                    <p class="company-info">Manage packages for Company 7</p>
                    <a href="/list/7" class="btn-view">View Packages</a>
                </div>
            </div>
            
            <div class="company-card">
                <div class="company-header">Company 8</div>
                <div class="company-body">
                    <p class="company-info">Manage packages for Company 8</p>
                    <a href="/list/8" class="btn-view">View Packages</a>
                </div>
            </div>
            
            <div class="company-card">
                <div class="company-header">Company 9</div>
                <div class="company-body">
                    <p class="company-info">Manage packages for Company 9</p>
                    <a href="/list/9" class="btn-view">View Packages</a>
                </div>
            </div>
            
            <div class="company-card">
                <div class="company-header">Company 10</div>
                <div class="company-body">
                    <p class="company-info">Manage packages for Company 10</p>
                    <a href="/list/10" class="btn-view">View Packages</a>
                </div>
            </div>
        </div>
        
        <div class="footer">
            &copy; 2025 Delivery Management System
        </div>
    </div>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Company List</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .company {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
        }
        .company a {
            font-weight: bold;
            font-size: 1.2em;
            text-decoration: none;
            color: #2a4d8f;
        }
        .company a:hover {
            text-decoration: underline;
        }
        .actions {
            margin-top: 20px;
        }
        button {
            padding: 10px 15px;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <h1>Company List</h1>

    <div class="actions">
        <button onclick="location.href='add_company.html'">âž• Add Company</button>
        <button onclick="location.href='add_customer.html'">ðŸ‘¤ Add Customer</button>
    </div>

    <div id="companies"></div>

    <div class="actions">
        <button onclick="location.href='add_company.html'">âž• Add Company</button>
        <button onclick="location.href='add_customer.html'">ðŸ‘¤ Add Customer</button>
    </div>

    <script>
        $(document).ready(function () {
            fetchCompanies();

            function fetchCompanies() {
                $.ajax({
                    url: "/companies",
                    method: "GET",
                    success: function (data) {
                        const container = $('#companies');
                        container.empty();

                        if (data.length === 0) {
                            container.append('<p>No companies found.</p>');
                            return;
                        }

                        data.forEach(company => {
                            const div = $('<div class="company">');
                            const link = $('<a>')</n                                .attr('href', '/list/' + company._id)
                                .text(company.name);
                            const details = $('<p>').text('Link: ' + company.link);
                            div.append(link).append(details);
                            container.append(div);
                        });
                    },
                    error: function (err) {
                        console.error('Error fetching companies:', err);
                        $('#companies').html('<p>Failed to load companies.</p>');
                    }
                });
            }
        });
    </script>
</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Company List</title>
    <link rel="stylesheet" href="/css/list.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        $(document).ready(function () {
            fetchCompanies();

            function fetchCompanies() {
                $.ajax({
                    url: "/companies",
                    method: "GET",
                    success: function (data) {
                        const container = $('#companies');
                        container.empty();

                        if (data.length === 0) {
                            container.append('<p>No companies found.</p>');
                            return;
                        }

                        data.forEach(company => {
                            const card = $('<div class="company-card">');
                            const header = $('<div class="company-header">').text(company.name);
                            const body = $('<div class="company-body">');
                            const info = $('<p class="company-info">').text('Link: ' + (company.site_url || company.link));
                            const button = $('<a class="btn-view">')
                                .attr('href', '/list/' + company._id)
                                .text('View Packages');

                            body.append(info).append(button);
                            card.append(header).append(body);
                            container.append(card);
                        });
                    },
                    error: function (err) {
                        console.error('Error fetching companies:', err);
                        $('#companies').html('<p>Failed to load companies.</p>');
                    }
                });
            }
        });
    </script>
</head>
<body>
    <div class="container">
        <h1>Delivery Management System</h1>

        <div class="actions" style="text-align: center; margin-bottom: 20px;">
            <button onclick="location.href='../html/add_company.html'" class="btn-view">âž• Add Company</button>
            <button onclick="location.href='../html/add_customer.html'" class="btn-view">ðŸ‘¤ Add Customer</button>
        </div>

        <div class="company-grid" id="companies"></div>

        <div class="actions" style="text-align: center; margin-bottom: 20px;">
            <button onclick="location.href='../html/add_company.html'" class="btn-view">âž• Add Company</button>
            <button onclick="location.href='../html/add_customer.html'" class="btn-view">ðŸ‘¤ Add Customer</button>
        </div>

        <div class="footer">
            &copy; 2025 Delivery Management System
        </div>
    </div>
</body>
</html>



